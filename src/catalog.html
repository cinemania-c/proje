<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="./img/favicon.svg" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Catalog</title>

  <!--CSS Stylesheets-->
  <link rel="stylesheet" href="./css/styles.css" />
  <link rel="stylesheet" href="./css/catalog.css" />
  <link rel="stylesheet" href="./css/pagination.css" />
  <link rel="stylesheet" href="./css/hero.css" />
  <link rel="stylesheet" href="./css/header.css" />
  <link rel="stylesheet" href="./css/footer.css" />
  <link rel="stylesheet" href="./css/modal-team.css" />
</head>

<body>
  <!-- Header -->
  <load src="./partials/header.html" />
  <main>
    <!-- Hero Section -->
    <div class="hero-div">
      <load src="./partials/hero.html" />
    </div>
    <!-- Search Section -->
    <section class="search-section">
      <!-- Arama çubuğu form olarak düzenlendi: -->
      <form id="search-form" class="search-container" autocomplete="off">
        <input type="text" id="search-input" class="search-input" placeholder="Search movies..." />
        <!-- Temizleme (X) butonu. Input dolunca gözükür. -->
        <button type="button" id="clear-button" class="clear-button" style="display: none">
          ✕
        </button>
        <!-- Yıl seçimi için dropdown menü. -->
        <select id="year-select" class="year-select">
          <option value="">Year</option>
          <!-- JavaScript ile doldurulacak -->
        </select>

        <!-- Bu buton 'submit' tipi olduğu için Enter'a basılınca da form submit tetiklenir. -->
        <button type="submit" id="search-button" class="search-button">
          <svg class="icon-search" width="20" height="20" viewBox="0 0 20 20" fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <path
              d="M9.16667 15.8333C12.8486 15.8333 15.8333 12.8486 15.8333 9.16667C15.8333 5.48477 12.8486 2.5 9.16667 2.5C5.48477 2.5 2.5 5.48477 2.5 9.16667C2.5 12.8486 5.48477 15.8333 9.16667 15.8333Z"
              stroke="#fff" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round" />
            <path d="M17.5 17.5L13.875 13.875" stroke="#fff" stroke-width="1.3" stroke-linecap="round"
              stroke-linejoin="round" />
          </svg>
        </button>
      </form>
    </section>

    <!-- Catalog Section -->
    <section class="catalog-film-section">
      <div id="movie-list" class="catalog-list"></div>
      <p class="error-message" style="
            display: none;
            color: rgb(114, 107, 107);
            text-align: center;
            font-weight: 400;
            font-size: 32px;
            line-height: 1.125;
            text-align: center;
          ">
        We are unable to load trending movies. Please try again later.
      </p>
    </section>

    <!-- Pagination Section -->
    <div class="pagination-container">
      <div class="pagination">
        <button id="prevButton" class="pagination-button"><svg width="10" height="18" viewBox="0 0 10 18" fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <path d="M8.9375 1.125L1.0625 9L8.9375 16.875" stroke="#B7B7B7" stroke-width="2" stroke-linecap="round"
              stroke-linejoin="round" />
          </svg></button>
        <div id="paginationNumbers" class="pagination-numbers"></div>
        <button id="nextButton" class="pagination-button"><svg width="10" height="18" viewBox="0 0 10 18" fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <path d="M1.0625 1.125L8.9375 9L1.0625 16.875" stroke="#B7B7B7" stroke-width="2px" stroke-linecap="round"
              stroke-linejoin="round" />
          </svg></button>
      </div>
    </div>
    <!-- Modal Section -->
    <section>
      <load src="./partials/modal-trailer.html" />
      <load src="./partials/modal-details.html" />
      <load src="./partials/modal-team.html" />

    </section>
  </main>

  <!-- Footer -->
  <load src="./partials/footer.html" />
  <load src="./partials/scroll-to-top.html" />

  <script>
    // Load external partials (header, footer, etc.)
    document.querySelectorAll('load').forEach(el => {
      const src = el.getAttribute('src');
      if (src) {
        fetch(src)
          .then(res => res.text())
          .then(html => {
            const container = document.createElement('div');
            container.innerHTML = html;
            el.replaceWith(container);
          })
          .catch(err => console.error('Error loading:', src, err));
      }
    });
  </script>

  <!-- Main JavaScript file -->
  <script type="module" src="./main.js"></script>
</body>

</html>