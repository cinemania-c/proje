import{a as W}from"./vendor-DGDcxXwr.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector(".mobile-menu-btn"),e=document.querySelector(".mobile-menu"),n=document.querySelector(".mobile-menu-icon use"),o=document.body;function r(){const i=e.classList.contains("is-open"),s=n.getAttribute("href").split("#")[0];e.classList.toggle("is-open"),t.setAttribute("aria-expanded",!i),n.setAttribute("href",i?s+"#icon-menu":s+"#icon-close"),o.style.overflow=i?"":"hidden"}t&&e&&(t.addEventListener("click",s=>{s.stopPropagation(),r()}),document.querySelectorAll(".mobile-nav-link").forEach(s=>{s.addEventListener("click",()=>{r()})}),document.addEventListener("click",s=>{e.classList.contains("is-open")&&!s.target.closest(".mobile-menu")&&!s.target.closest(".mobile-menu-btn")&&r()}),e.addEventListener("click",s=>{s.stopPropagation()}),document.addEventListener("keydown",s=>{s.key==="Escape"&&e.classList.contains("is-open")&&r()}));const a=window.location.pathname;document.querySelectorAll(".nav-link, .mobile-nav-link").forEach(i=>{i.classList.remove("active")}),a.includes("catalog.html")?document.querySelectorAll('[data-page="catalog"]').forEach(i=>{i.classList.add("active")}):a.includes("mylibrary.html")?document.querySelectorAll('[data-page="library"]').forEach(i=>{i.classList.add("active")}):document.querySelectorAll('[data-page="home"]').forEach(i=>{i.classList.add("active")})});document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("genre-dropdown-container"),e=document.getElementById("load-more-container"),n=document.getElementById("library-list"),o=document.getElementById("default-content"),r=document.getElementById("genre-dropdown"),a=10;let l=1;const i=JSON.parse(localStorage.getItem("myLibrary"))||[];if(i.length===0){o.style.display="block",t.style.display="none",e.style.display="none";return}o.style.display="none",t.style.display="block",A(i.slice(0,a)),i.length>a?e.style.display="block":e.style.display="none",r.addEventListener("change",s=>{const u=s.target.value,p=u==="all"?i.slice(0,l*a):i.filter(c=>c.genre_ids.includes(parseInt(u)));p.length===0?(o.style.display="block",n.innerHTML="",t.style.display="block",e.style.display="none"):(o.style.display="none",A(p.slice(0,l*a)),e.style.display=p.length>l*a?"block":"none")}),document.getElementById("load-more").addEventListener("click",()=>{l++;const s=i.slice(0,l*a);A(s),s.length>=i.length&&(e.style.display="none")})});function A(t){const e=document.getElementById("library-list");e.innerHTML="",t.forEach(n=>{const o=document.createElement("div");o.className="movie-item",o.innerHTML=`
          <img src="https://image.tmdb.org/t/p/w500${n.poster_path}" alt="${n.title}" class="movie-poster">
          <div class="catalog-card-info-container">
            <h3 class="catalog-card-title">${n.title}</h3>
            <p class="catalog-card-description">${ee(n.genre_ids)} | ${n.release_date?n.release_date.split("-")[0]:"Unknown"}</p>
            <p class="rating">⭐ ${n.vote_average.toFixed(1)}</p>
          </div>
        `,o.addEventListener("click",()=>{window.movieModal.show(n.id)}),e.appendChild(o)})}function ee(t){const e={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Science Fiction",10770:"TV Movie",53:"Thriller",10752:"War",37:"Western"};return!t||!Array.isArray(t)?"":t.map(o=>e[o]||"Unknown").slice(0,2).join(", ")}document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("theme-switch"),e=document.documentElement,n=document.body,o=localStorage.getItem("theme");o?(e.classList.add(o),n.classList.add(o),t.checked=o==="light-theme"):(e.classList.add("dark-theme"),n.classList.add("dark-theme"),t.checked=!1,localStorage.setItem("theme","dark-theme")),requestAnimationFrame(()=>{e.classList.add("theme-loaded")}),t.addEventListener("change",()=>{t.checked?(e.classList.remove("dark-theme"),e.classList.add("light-theme"),n.classList.remove("dark-theme"),n.classList.add("light-theme"),localStorage.setItem("theme","light-theme")):(e.classList.remove("light-theme"),e.classList.add("dark-theme"),n.classList.remove("light-theme"),n.classList.add("dark-theme"),localStorage.setItem("theme","dark-theme"))})});const te="016a30ce49a7789188b6fa9bad9963a6",C="https://api.themoviedb.org/3",M="https://image.tmdb.org/t/p",I={TRENDING_WEEK:"/trending/movie/week",TRENDING_DAY:"/trending/movie/day",POPULAR_MOVIES:"/movie/popular",UPCOMING_MOVIES:"/movie/upcoming",MOVIE_DETAILS:t=>`/movie/${t}`,MOVIE_VIDEOS:t=>`/movie/${t}/videos`,SEARCH_MOVIES:"/search/movie",GENRE_LIST:"/genre/movie/list",IMG_W500:"/w500",IMG_W780:"/w780",IMG_W1280:"/w1280",IMG_ORIGINAL:"/original"};async function T(t,e,n={}){try{return(await W.get(`${t}${e}`,{params:{api_key:te,language:"en-US",page:1,...n}})).data}catch(o){throw console.error("Error fetching data:",o),o}}const ne=document.querySelector("#weekly-movie-card"),oe="https://api.themoviedb.org/3",re="https://image.tmdb.org/t/p",ae="9d898ad8ed36e30a2f478f382f12d8e2",se={TRENDING_WEEK:"/trending/movie/week"},ie={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Science Fiction",10770:"TV Movie",53:"Thriller",10752:"War",37:"Western"};function ce(t){return!t||!Array.isArray(t)?"":t.map(n=>ie[n]||"Unknown").slice(0,2).join(", ")}function le(t){return t?t.split("-")[0]:""}async function de(t,e){const n=`${t}${e}?api_key=${ae}&language=en-US`,o=await fetch(n);if(!o.ok)throw new Error("API fetch failed");return await o.json()}async function me(){try{const e=(await de(oe,se.TRENDING_WEEK)).results.slice(0,3),n=e.map(o=>{const r=ce(o.genre_ids),a=le(o.release_date),l=`${r}${a?` | ${a}`:""}`,i=o.poster_path?`${re}/w500${o.poster_path}`:"https://via.placeholder.com/500x750?text=No+Image";return`
        <li class="catalog-item" id="weekly-movie-${o.id}">
          <img class="catalog-img" src="${i}" alt="${o.title}">
          <div class="catalog-card-info-container weekly-font">
            <h2 class="weekly-card-title">${o.title}</h2>
            <p class="weekly-card-text">${l}</p>
            <p class="weekly-card-rating">⭐ ${o.vote_average.toFixed(1)}</p>
          </div>
        </li>
      `});ne.innerHTML=n.join(""),e.forEach(o=>{document.getElementById(`weekly-movie-${o.id}`).addEventListener("click",()=>{var a;(a=window.movieModal)==null||a.show(o.id)})})}catch(t){console.error("Hata:",t)}}me();document.addEventListener("DOMContentLoaded",()=>{function e(r){function a(){window.scrollY>100?r.classList.add("visible"):r.classList.remove("visible")}function l(){window.scrollTo({top:0,behavior:"smooth"})}window.addEventListener("scroll",a),r.addEventListener("click",l),a()}function n(){const r=new MutationObserver(()=>{const a=document.querySelector(".scroll-to-top");a&&(r.disconnect(),e(a))});r.observe(document.body,{childList:!0,subtree:!0})}const o=document.querySelector(".scroll-to-top");o?e(o):(console.warn("scroll-to-top butonu bulunamadı. DOM gözlemleniyor..."),n())});document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector(".modal-details");if(!t)return;const e=t.querySelector(".modal-details__close"),n=t.querySelector(".modal-details__library-btn");let o=null;const r={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Science Fiction",10770:"TV Movie",53:"Thriller",10752:"War",37:"Western"};function a(){t.classList.remove("active"),document.body.style.overflow="auto"}e==null||e.addEventListener("click",a),t.addEventListener("click",c=>{c.target===t&&a()}),document.addEventListener("keydown",c=>{c.key==="Escape"&&t.classList.contains("active")&&a()});function l(c){return(JSON.parse(localStorage.getItem("myLibrary"))||[]).some(g=>g.id===c)}function i(c){const d=l(c);n&&(n.textContent=d?"Remove from my library":"Add to my library",n.dataset.action=d?"remove":"add")}function s(c){const d=JSON.parse(localStorage.getItem("myLibrary"))||[],g=d.findIndex(y=>y.id===c.id);c.genres&&!c.genre_ids&&(c.genre_ids=c.genres.map(y=>y.id)),c.genre_ids&&!c.genres&&(c.genres=c.genre_ids.map(y=>({id:y,name:r[y]||"Unknown"}))),g===-1?d.push(c):d.splice(g,1),localStorage.setItem("myLibrary",JSON.stringify(d)),i(c.id)}n==null||n.addEventListener("click",async()=>{if(o){const c=await u(o);s(c)}});async function u(c){const d="016a30ce49a7789188b6fa9bad9963a6",g="https://api.themoviedb.org/3";try{const y=await fetch(`${g}/movie/${c}?api_key=${d}&language=en-US`);if(!y.ok)throw new Error("Failed to fetch movie details");return await y.json()}catch(y){return console.error("Error fetching movie details:",y),null}}async function p(c){const d=await u(c);if(!d)return;o=d.id;const g=t.querySelector(".modal-details__image");g&&(g.src=`https://image.tmdb.org/t/p/w500${d.poster_path}`,g.alt=d.title),t.querySelector(".modal-details__title").textContent=d.title,t.querySelector(".modal-details__vote").textContent=d.vote_average.toFixed(1),t.querySelector(".modal-details__votes").textContent=d.vote_count,t.querySelector(".modal-details__popularity").textContent=d.popularity.toFixed(1),t.querySelector(".modal-details__genre").textContent=d.genres.map(y=>y.name).join(", "),t.querySelector(".modal-details__about-text").textContent=d.overview,i(d.id),t.classList.add("active"),document.body.style.overflow="hidden"}window.movieModal={show:p,close:a}});document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector(".hero"),e=document.querySelector(".modal-trailer"),n=e.querySelector(".modal-trailer__close"),o=document.querySelector(".hero-button-watchTrailer"),r=e.querySelector(".modal-trailer__video");function a(){const s=r.src;r.src=s}function l(){console.log("Closing modal"),e.classList.remove("active"),document.body.style.overflow="auto",a()}function i(){console.log("Opening modal"),e.classList.add("active"),document.body.style.overflow="hidden",console.log("video api ",t.dataset.movieid),T(C,`/movie/${t.dataset.movieid}/videos`,{page:1}).then(s=>{console.log("VIDEO:",s);const u=s.results.find(p=>p.official===!0&&p.site==="YouTube"&&p.type==="Trailer");if(u){const p=`https://www.youtube.com/embed/${u.key}`;console.log(r.src),r.src=p,console.log(r.src)}else console.log("No official YouTube trailer found.")})}o&&o.addEventListener("click",s=>{console.log("Watch trailer button clicked"),s.preventDefault(),i()}),n&&n.addEventListener("click",s=>{console.log("Close button clicked"),s.preventDefault(),l()}),e&&e.addEventListener("click",s=>{s.target===e&&(console.log("Clicked outside modal"),l())}),document.addEventListener("keydown",s=>{s.key==="Escape"&&e.classList.contains("active")&&(console.log("Escape key pressed"),l())}),window.trailerModal={open:i,close:l}});document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector(".hero-summary"),e=document.querySelector(".hero-button-moreDetails");document.querySelector(".hero-button-watchTrailer");const n=document.querySelector(".hero"),o=document.querySelector(".hero-image-container"),r=document.querySelector(".hero"),a=document.querySelector(".hero-h1"),l=document.querySelector(".hero-rating-stars");let i=null,s=null,u;function p(m){return m.length>170?m.slice(0,170)+"...":m}function c(m){const f=`${M}/w500${m.backdrop_path}`,w=`${M}/w780${m.backdrop_path}`,S=`${M}/w1280${m.backdrop_path}`;u=document.createElement("img"),u.classList.add("hero-image-itself"),u.alt=m.title,window.innerWidth<=767?u.src=f:window.innerWidth<=1279?u.src=w:u.src=S,o.innerHTML="",o.appendChild(u),r.setAttribute("aria-label",m.title),a.textContent=m.title,t.textContent=p(m.overview),i=m.id}const d="<svg>...FULL STAR...</svg>",g="<svg>...HALF STAR...</svg>",y="<svg>...EMPTY STAR...</svg>";function X(m,f){if(m<=0||m>=10){console.error("Rating must be between 0 and 10");return}const w=m/2;f.innerHTML="";const S=Math.floor(w),P=w%1>=.5?1:0,Z=5-S-P;for(let v=0;v<S;v++){const E=document.createElement("div");E.innerHTML=d,f.appendChild(E.firstElementChild)}if(P){const v=document.createElement("div");v.innerHTML=g,f.appendChild(v.firstElementChild)}for(let v=0;v<Z;v++){const E=document.createElement("div");E.innerHTML=y,f.appendChild(E.firstElementChild)}}T(C,I.POPULAR_MOVIES,{page:1}).then(m=>{if(m.results&&m.results.length>0){const f=Math.floor(Math.random()*m.results.length);s=m.results[f],n.dataset.movieid=s.id,X(s.vote_average,l),c(s)}else console.error("No movies found for hero section.")}),e.addEventListener("click",()=>{if(!window.movieModal||typeof window.movieModal.show!="function"){console.warn("Modal sistemi henüz hazır değil.");return}i&&window.movieModal.show(i)}),window.addEventListener("resize",()=>{u&&s&&c(s)})});document.addEventListener("DOMContentLoaded",function(){const t=document.createElement("div");fetch("modal.html").then(e=>e.text()).then(e=>{t.innerHTML=e;const n=document.getElementById("teamModal"),o=document.getElementById("teamLink"),r=document.getElementById("closeModal");o.addEventListener("click",function(){n.classList.add("active"),document.body.style.overflow="hidden"});function a(){n.classList.remove("active"),document.body.style.overflow="auto"}r.addEventListener("click",a),n.addEventListener("click",function(l){l.target===n&&a()}),document.addEventListener("keydown",function(l){l.key==="Escape"&&a()})}).catch(e=>console.error("Modal yüklenirken bir hata oluştu:",e))});const ue="016a30ce49a7789188b6fa9bad9963a6",ye="https://api.themoviedb.org/3",R=document.getElementById("paginationNumbers"),_=document.getElementById("prevButton"),k=document.getElementById("nextButton"),G=document.getElementById("movie-list"),N=document.querySelector(".error-message");let L=1,b=1,pe="";const ge={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Science Fiction",10770:"TV Movie",53:"Thriller",10752:"War",37:"Western"};function he(t){return!t||!Array.isArray(t)?"":t.map(o=>ge[o]||"Unknown").slice(0,2).join(", ")}function fe(t){return t?t.split("-")[0]:""}function ve(){V(1),_.addEventListener("click",()=>x(L-1)),k.addEventListener("click",()=>x(L+1))}async function V(t){try{const e=await Le(t,pe);Ee(e.results),L=e.page,b=e.total_pages,be()}catch(e){console.error("Failed to load movies:",e),Y("Failed to load movies. Please try again.")}}async function Le(t,e){try{let n="/trending/movie/week",o={api_key:ue,page:t};return(await W.get(`${ye}${n}`,{params:o})).data}catch(n){throw console.error("Error fetching movies:",n),n}}function Ee(t){if(G.innerHTML="",N.style.display="none",!t||t.length===0){Y("No movies found.");return}t.forEach(e=>{const n=document.createElement("div");n.className="catalog-item",n.style.backgroundImage=`url(https://image.tmdb.org/t/p/w500${e.poster_path})`;const o=he(e.genre_ids),r=fe(e.release_date),a=`${o}${r?` | ${r}`:""}`;n.innerHTML=`
      <div class="catalog-card-info-container">
        <h3 class="catalog-card-title">${e.title}</h3>
        <p class="catalog-card-description">${a}</p>
        <p class="rating">⭐ ${e.vote_average.toFixed(1)}</p>
      </div>
    `,G.appendChild(n),n.addEventListener("click",()=>{window.movieModal.show(e.id)})})}function be(){if(R.innerHTML="",b<2){_.style.display="none",k.style.display="none";return}else _.style.display="inline-block",k.style.display="inline-block";const t=Math.max(1,L-2),e=Math.min(b,t+5);for(let n=t;n<=e;n++){const o=document.createElement("button");o.textContent=n,o.classList.add("pagination-button"),n===L&&o.classList.add("active"),o.addEventListener("click",()=>x(n)),R.appendChild(o)}_.disabled=L===1,k.disabled=L===b}function Y(t){N.textContent=t,N.style.display="block"}async function x(t){t>=1&&t<=b&&await V(t)}const q=document.querySelector(".upcoming__library-btn"),H=document.querySelector("#content-poster"),we=document.querySelector("#movie-title"),Se=document.querySelector("#date-of-release"),Me=document.querySelector("#avarage-vote"),_e=document.querySelector("#popularity"),ke=document.querySelector("#count-vote"),Ie=document.querySelector("#genres"),$e=document.querySelector("#summary");let j={},F=null;T(C,I.GENRE_LIST).then(t=>{t.genres.forEach(e=>{j[e.id]=e.name})});function Ce(t){return(JSON.parse(localStorage.getItem("myLibrary"))||[]).some(n=>n.id===t)}function K(t){const e=Ce(t);q.textContent=e?"Remove from my library":"Add to my library",q.dataset.action=e?"remove":"add"}function Te(t){const e=JSON.parse(localStorage.getItem("myLibrary"))||[],n=e.findIndex(o=>o.id===t.id);n===-1?e.push(t):e.splice(n,1),localStorage.setItem("myLibrary",JSON.stringify(e)),K(t.id)}const Ae=async()=>{try{const t=await T(C,I.UPCOMING_MOVIES,{page:1}),e=new Date,n=t.results.filter(o=>new Date(o.release_date)>=e);if(n.length>0){const o=n[Math.floor(Math.random()*n.length)];F=o.id,H.src=`${M}${I.IMG_W1280}${o.backdrop_path}`,H.alt=o.title,we.textContent=o.title,Se.textContent=new Date(o.release_date).toLocaleDateString("en-GB"),Me.textContent=o.vote_average,_e.textContent=o.popularity,ke.textContent=o.vote_count,Ie.textContent=o.genre_ids.map(r=>j[r]).join(", "),$e.textContent=o.overview,K(F),q.addEventListener("click",()=>{Te(o)})}}catch(t){console.error("Error fetching upcoming movies:",t)}};Ae();const Ne="9d898ad8ed36e30a2f478f382f12d8e2",xe="https://api.themoviedb.org/3",qe="https://image.tmdb.org/t/p",B={TRENDING_WEEK:"/trending/movie/week",SEARCH_MOVIES:"/search/movie",IMG_W500:"/w500"},De=document.getElementById("search-form"),$=document.getElementById("search-input"),D=document.getElementById("clear-button"),J=document.getElementById("year-select"),O=document.getElementById("movie-list"),h=document.querySelector(".error-message"),Oe={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Science Fiction",10770:"TV Movie",53:"Thriller",10752:"War",37:"Western"};function Be(t){return Array.isArray(t)?t.map(n=>Oe[n]||"Unknown").slice(0,2).join(", "):""}function U(t){return t?t.split("-")[0]:""}function z(t){O.innerHTML="",t.forEach(e=>{const n=document.createElement("div");n.className="catalog-item",n.id=`movie-${e.id}`;const o=e.poster_path?`${qe}${B.IMG_W500}${e.poster_path}`:"https://via.placeholder.com/500x750?text=No+Image";console.log("Poster URL:",o),n.innerHTML=`
      <img src="${o}" alt="${e.title}" class="catalog-img" />
      <div class="catalog-card-info-container">
        <h3 class="catalog-card-title">${e.title}</h3>
        <p class="catalog-card-description">${Be(e.genre_ids)}${U(e.release_date)?` | ${U(e.release_date)}`:""}</p>
        <p class="rating">⭐ ${e.vote_average.toFixed(1)}</p>
      </div>
    `,n.addEventListener("click",()=>{var r;(r=window.movieModal)==null||r.show(e.id)}),O.appendChild(n)})}async function Q(t,e={}){const n=new URL(xe+t);n.searchParams.append("api_key",Ne),n.searchParams.append("language","en-US"),n.searchParams.append("page",1),Object.entries(e).forEach(([r,a])=>n.searchParams.append(r,a));const o=await fetch(n);if(!o.ok)throw new Error("API request failed");return o.json()}async function Pe(){var t;try{const e=await Q(B.TRENDING_WEEK);((t=e.results)==null?void 0:t.length)>0?(z(e.results),h.style.display="none"):(h.textContent="No trending movies found.",h.style.display="block")}catch(e){console.error(e),h.textContent="Failed to load trending movies.",h.style.display="block"}}function Re(){const t=new Date().getFullYear();for(let e=t;e>=1960;e--){const n=document.createElement("option");n.value=e,n.textContent=e,J.appendChild(n)}}$.addEventListener("input",()=>{D.style.display=$.value.trim()?"inline-block":"none"});D.addEventListener("click",()=>{$.value="",D.style.display="none"});De.addEventListener("submit",async t=>{var o;t.preventDefault();const e=$.value.trim(),n=J.value;if(e)try{const r=await Q(B.SEARCH_MOVIES,{query:e,primary_release_year:n});((o=r.results)==null?void 0:o.length)>0?(z(r.results),h.style.display="none"):(O.innerHTML="",h.textContent=`  OOPS!        We are unable to load trending movies. Please try again later.
`,h.style.display="block")}catch(r){console.error(r),h.textContent="Search failed. Please try again.",h.style.display="block"}});document.addEventListener("DOMContentLoaded",()=>{ve(),Re(),Pe()});
//# sourceMappingURL=main-AjDONRQi.js.map
